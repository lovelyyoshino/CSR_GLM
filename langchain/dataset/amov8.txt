八、PX4固件常用几种飞行模式
Manual
手动模式：飞行员的控制输入直接传输混控器。(不建议新手使用)
Stabilized
自稳模式：飞控会让飞行器只有保持姿态是稳定的。(不建议新手使用)
手动/稳定模式在当遥控杆居中时可稳定多旋翼飞行器。 要手动移动/飞行飞机，您可以移动杆使其偏离居中位置。
在手动控制下，滚转和俯仰杆控制绕各个轴的飞机的角度（姿态），偏航杆控制水平面上方的旋转速度，油门控制高度/速度。
一旦释放操纵杆，它们就会返回中心死区。 一旦滚转和俯仰杆居中，多旋翼飞行器将平稳并停止运动。 然后飞机将悬停在适当的位置/保持高度——前提是它正确地配平，油门处于适当位置（参见下面），并且不施加外力（例如风）。 飞行器将朝着任何风的方向漂移，你必须控制油门以保持高度。
更多该模式的设置可参考：https://docs.px4.io/main/zh/flight_modes/manual_stabilized_mc.html
Acro
特技模式：该模式是基于速率控制的模式，该模式在遥控器摇杆与飞行器电机之间建立直接控制关系。当飞行员的输出作为滚装、俯仰和偏航的指令传送给飞控，这允许多旋翼可以完全翻转，油门被直接传送到混空器。在特技模式下飞行，就像是不装飞控的遥控直升机一样，需要持续不断的手动摇杆操作。(不建议新手使用)
更多该模式的设置可参考：
https://docs.px4.io/main/zh/flight_modes/acro_mc.html
Altitude
定高模式：高度模式是一个相对容易飞的遥控模式，滚转和俯仰杆控制飞机在左右和前后方向上的运动（相对于飞机的“前部”），偏航杆控制水平面上的旋转速度，油门控制上升 -下降的速度。
当杆被释放/回中时，飞机将恢复水平并保持当前的高度。 如果在水平面上运动，飞机将继持续运动直到任何动量被风阻力消散。 如果刮风，飞机会向风的方向漂移。
更多该模式的设置可参考：https://docs.px4.io/main/zh/flight_modes/altitude_mc.html
Position
定点模式：位置模式是一种易于驾驶的遥控模式，其中滚动和俯仰操纵杆在左右和前后方向（相对于飞机的“前部”）控制地面速度，并且油门控制上升-下降的速度。 当杆被释放/居中时，飞机将主动制动、改平并锁定到3D空间中的位置——补偿风和其他力。
位置模式是对于新手而言最安全的手动模式。 与高度和手动/稳定模式不同，当摇杆居中时飞机将停止运动，而不是持续运动直至被风阻减慢为止。(新手首选)
更多该模式的设置可参考：https://docs.px4.io/main/zh/flight_modes/position_mc.html
Mission
任务模式：任务模式使车辆执行已上载到飞行控制器的预定义的自主任务（飞行计划）。该任务通常是通过地面控制站（GCS）应用程序（例如QGroundControl（QGC））创建和上传的。
此模式需要3d位置信息（例如GPS）。
在启用该模式之前，必须对车辆进行布防。
此模式是自动的-没有用户干预 需要 来控制车辆。
RC控制开关可用于更改任何车辆上的飞行模式。 默认情况下， RC摇杆运动将以 多旋翼飞行时 将车辆更改为“ 位置”模式 ，除非处理关键的电池故障保护（固定翼飞行会忽略摇杆运动）。
描述
任务通常在地面控制站（例如QGroundControl）中创建，并在发射前上载。它们也可以由开发人员API创建和/或在飞行中上传。
个别任务的命令在一个方式，是适合于每个车辆的飞行特性（例如蹭被实现为处理悬停用于直升机和圆固定翼）。VTOL车辆在FW模式下遵循固定翼的行为和参数，在MC模式下遵循直升机的行为和参数。
任务已上载到需要启动自动驾驶仪之前插入的SD卡。
在高级别上，使用MISSION模式时，所有车辆类型的行为都相同：
如果已存储任务并且PX4正在飞行，它将 从当前步骤开始 执行 任务/飞行计划 。
如果已存储任务且PX4已着陆：
在直升机上，PX4将执行 任务/飞行计划 。 如果任务没有 TAKEOFF 命令，则PX4将在执行当前步骤的其余飞行计划之前，将车辆飞行到最低高度。
在固定翼车辆上，PX4不会自动起飞（自动驾驶仪会检测到不运动，并将油门设为零）。 如果在任务模式下用手或弹射器发射，车辆可能会开始执行任务。
如果未存储任何任务，或者PX4已完成执行所有任务命令：
如果飞行，车辆会游荡。
如果着陆，车辆将“等待”。
您可以通过在 QGroundControl中 选择当前任务命令来手动更改它 。
如果任务中有“跳转到项目”命令，则移动到另一个项目不会重置循环计数器。一种暗示是，如果将当前任务命令更改为1，则不会“完全重新启动”任务。
仅当车辆解除武装或上载新任务时，任务才会重置。
要在车辆着陆后自动撤防，请在QGroundControl中进入“车辆设置”>“安全”，导航至“着陆模式设置”，然后选中标有“在撤防后撤防”的框。输入降落后等待的时间，然后才能解除车辆的装甲。
可以通过激活保持模式来暂停任务。当您重新激活MISSION飞行模式时，任务将从当前任务命令继续执行。在任务模式下飞行时，如果您决定中止任务并切换到任何其他模式（例如，位置模式），使用RC将车辆飞行到其他地方，然后再切换回任务模式，则车辆将从当前位置继续执行任务，并且飞往尚未访问的下一个任务航路点。
在切换到任何RC模式之前，请确保油门杆不为零（否则车辆将坠毁）。建议您在切换到任何其他模式之前将控制杆居中。
更多该模式的设置可参考：https://docs.px4.io/main/zh/flight_modes/mission.html
Hold
定点模式：在保持飞行模式（又名“游荡”）使车辆停止，并保持其当前GPS位置和高度（MC车辆将在GPS位置徘徊，而FW车将周围一圈）。
保持模式可用于暂停任务或在紧急情况下帮助您重新控制车辆。通常使用预编程的开关激活它。
此模式需要GPS。
此模式是自动的-没有用户干预 需要 来控制车辆。
RC控制开关可用于更改任何车辆上的飞行模式。 RC摇杆运动的效果取决于车辆类型。
更多该模式的设置可参考：https://docs.px4.io/main/zh/flight_modes/hold.html

Return
返航模式：在返回飞行模式用于车辆飞到安全的通畅道路上一个安全的目的地，在那里既可以等待（悬停或圆形）或土地。
PX4提供了几种用于选择安全返回路径，目的地和着陆的机制，包括使用归属位置，集会（“安全”）点，任务路径和任务着陆顺序。
以下各节说明如何配置回程类型，回程高度和着陆/到达行为。最后，有几节说明每种车辆类型的默认（预配置）行为。
此模式需要GPS。
此模式是自动的-没有用户干预 需要 来控制车辆。
RC控制开关可用于更改任何车辆上的飞行模式。 RC摇杆运动的效果取决于车辆类型。
更多该模式的设置可参考：https://docs.px4.io/main/zh/flight_modes/return.html
Land        
降落模式：降落飞行模式使无人机降落在该模式被使用的位置。降落后，无人机将会在一小段时间后上锁（默认情况下）。
注解
该模式需要有效的位置估计，除非由于失效保护进入该模式，这种情况下仅需要高度估计（通常飞控内置一个气压计）。
这种模式是自动的，不需要用户干预来控制无人机。
遥控器开关可以用于更改任何无人机的飞行模式。
在多旋翼中移动遥控器摇杆（或 VTOL 在多旋翼模式下）默认情况下会将无人机切换到位置模式，除非是处理电池失效保护。
该模式可以通过MAV_CMD_DO_LAND_START MAVLink命令触发，或者通过显式切换到陆地模式。
更多该模式的设置可参考：https://docs.px4.io/main/zh/flight_modes/land.html
跟随模式：操作者手中的笔记本电脑带有GPS，此GPS会将位置信息通过地面站和数传电台随时发给飞行器，飞行器实际执行的是飞到这里”的指令。其结果就是飞行器跟随操作者移动。
Take off
起飞模式：飞行器自主起飞，起飞到一定高度悬停。
注解:
该模式需要一个良好的位置估计（如，从 GPS 中获取）。
使用此模式前必须先解锁。
此模式为自动模式，无需用户干预即可控制无人机。遥控开关可以在任何无人机上更改飞行模式。
在多旋翼中移动遥控器摇杆（或 VTOL 在多旋翼模式下）默认情况下会将无人机切换到位置模式，除非是处理电池失效保护。
如果起飞时出现问题，故障检测器 将自动停止引擎。
更多该模式的设置可参考：https://docs.px4.io/main/zh/flight_modes/takeoff.html
Offboarrd
外部模式
飞行器根据飞行控制栈外部（如机载计算机）提供的设定值控制位置、速度、加速度、姿态以及推力/力矩。 设置值可以经由 MAVLink 提供(也可以是一个类似 MAVSDK (opens new window)的MAVLink API)或者经由 ROS 2 提供。
PX4要求外部控制器提供2Hz连续的“有效存在”信号，该信号可由任意支持的 MAVLink 设置点消息或ROS 2 OffboardControlMode 消息提供。 PX4只有在收到该种信号超过1秒后才有效，如果该种信号停止飞行控制栈将重新获得控制权（脱离Offboard模式）。
注解
此模式需要位置或位/姿信息 - 例如 GPS、光流、视觉惯性里程计、mocap 等。
除了更改模式外， 禁止遥控器控制。
飞行器必须已经收到一条 MAVLink 设置点消息或 ROS 2 OffboardControlMode 消息，才允许在Offboard模式下解锁或者在飞行中切换至Offboard模式。
如果没有以 > 2Hz 的速度收到MAVLink 设置点消息或 OffboardControlMode ，飞行器将退出Offboard模式。
并非所有 MAVLink 支持的坐标系和字段值都被设定值消息和飞行器支持。 请仔细阅读以下章节，确保仅使用支持的值。 
#描述
Offboard模式通过设置位置、速度、加速、姿态、姿态角速率或力/扭矩设置点来控制飞行器的移动和姿态。
PX4 必须能够以2Hz的速率连续收到 MAVLink 设置点消息或 ROS 2 OffboardControlMode 消息以确保外部控制器是正常运行的。 该消息必须已经持续发送1秒钟以上PX4才能在Offboard模式下解锁或在飞行中切换至Offboard模式。 如果在外部控制器给出的指令速率低于2Hz，PX4将在超时(COM_OF_LOSS_T)后退出Offboard模式，并尝试降落或执行其他一些失败保护行为。 失效保护行为取决于RC遥控器是否可用，依据参数 COM_OBL_RC_ACT 的设定。
当使用 MAVLink 时，设定值消息既传达了指示外部控制器"正常运行"的信号也传达了设定值本身。 Offboard模式下要保持位置，飞行器必须接收到一个包含当前位置设定值的消息指令。
当使用 ROS 2 时，外部控制器运行正常通过监测 OffboardControlMode 消息流确保，真实设定点由发布任一包含设定值的uORB消息提供，例如 TrajectorySetpoint。 在这种情况下保持当前位置，飞行器必须收到连续的 OffboardControlMode 消息，但只需要收到 TrajectorySetpoint 消息一次。
请注意，Offboard模式只支持非常有限的 MAVLink 命令和消息。 其他操作如起飞、降落、返航，最好使用适当的模式来处理。 像上传、下载任务这样的操作可以在任何模式下执行。
更多该模式的设置可参考：https://docs.px4.io/main/zh/flight_modes/offboard.html
